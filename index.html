<div class="center-buttons">
  <button id="confirmBtn" class="btn disabled" disabled>Send Payment Proof & Confirmation</button>
  <a id="continueBtn" class="btn disabled" href="#">Continue the Test</a>
</div>

<script>
const nameInput = document.getElementById('name');
const waInput = document.getElementById('wa');
const confirmBtn = document.getElementById('confirmBtn');

function checkInputs() {
  if(nameInput.value.trim() && waInput.value.trim()) {
    confirmBtn.disabled = false;
    confirmBtn.classList.remove('disabled');
  } else {
    confirmBtn.disabled = true;
    confirmBtn.classList.add('disabled');
  }
}
nameInput.addEventListener('input', checkInputs);
waInput.addEventListener('input', checkInputs);

confirmBtn.addEventListener('click', function() {
  const n = nameInput.value.trim();
  const w = waInput.value.trim();
  if(!n || !w) return alert('Please fill in all fields.');

  const msg = encodeURIComponent(`Payment Proof and Confirmation\nName: ${n}\nWA: ${w}\nRequesting unlock code.`);
  window.open(`https://wa.me/6285399652487?text=${msg}`, '_blank');

  alert('Admin will receive your request and provide a randomized unlock code via WhatsApp.');
  document.getElementById('unlockCode').disabled = false;
});

// Enable Continue button only after unlock code is entered
document.getElementById('unlockCode').addEventListener('input', function() {
  const code = this.value.trim();
  const continueBtn = document.getElementById('continueBtn');
  if(code.length > 0){
    continueBtn.classList.remove('disabled');
    continueBtn.href = 'https://gyoutrain-lab.github.io/nursing-prometric-test-allinone500/';
  } else {
    continueBtn.classList.add('disabled');
    continueBtn.href = '#';
  }
});
</script>
