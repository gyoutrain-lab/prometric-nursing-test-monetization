<div class="center-buttons">
  <button id="confirmBtn" class="btn disabled" disabled>Send Payment Proof & Confirmation</button>
  <a id="continueBtn" class="btn disabled" href="#">Continue the Test</a>
</div>

<script>
const nameInput = document.getElementById('name');
const waInput = document.getElementById('wa');
const confirmBtn = document.getElementById('confirmBtn');

function checkInputs() {
  if(nameInput.value.trim() && waInput.value.trim()) {
    confirmBtn.disabled = false;
    confirmBtn.classList.remove('disabled');
  } else {
    confirmBtn.disabled = true;
    confirmBtn.classList.add('disabled');
  }
}
const nameInput = document.getElementById('nameInput');
const waInput = document.getElementById('waInput');
const confirmBtn = document.getElementById('confirmBtn');
const unlockCode = document.getElementById('unlockCode');

// Enable confirm button only when both fields are filled
function checkInputs() {
  if (nameInput.value.trim() !== "" && waInput.value.trim() !== "") {
    confirmBtn.disabled = false;
  } else {
    confirmBtn.disabled = true;
  }
}

nameInput.addEventListener('input', checkInputs);
waInput.addEventListener('input', checkInputs);

confirmBtn.addEventListener('click', () => {
  const n = nameInput.value.trim();
  const w = waInput.value.trim();

  if (!n || !w) {
    alert('Please fill in all fields.');
    return;
  }

  const msg =
    `Payment Proof and Confirmation\n` +
    `Name: ${n}\n` +
    `WA: ${w}\n` +
    `Requesting unlock code.`;

  const waURL = `https://wa.me/6285399652487?text=${encodeURIComponent(msg)}`;

  // Open WhatsApp
  window.open(waURL, "_blank");

  alert("Admin will receive your request and send your unlock code.");

  // Allow user to enter unlock code after contacting admin
  unlockCode.disabled = false;
});

});

// Enable Continue button only after unlock code is entered
document.getElementById('unlockCode').addEventListener('input', function() {
  const code = this.value.trim();
  const continueBtn = document.getElementById('continueBtn');
  if(code.length > 0){
    continueBtn.classList.remove('disabled');
    continueBtn.href = 'https://gyoutrain-lab.github.io/nursing-prometric-test-allinone500/';
  } else {
    continueBtn.classList.add('disabled');
    continueBtn.href = '#';
  }
});
</script>
